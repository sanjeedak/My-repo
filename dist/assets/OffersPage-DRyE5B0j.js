import{r as s,j as t,a as m,e as x}from"./index-JHV42PaI.js";import{P as u}from"./ProductCard-BUBR25pb.js";import{P as h}from"./Pagination-DgnuGieu.js";import"./eye-CmzZc3tr.js";import"./heart-Dd0oiCNL.js";import"./shopping-cart-CxxRy6Tm.js";const N=()=>{const[l,d]=s.useState([]),[g,i]=s.useState(!0),[o,c]=s.useState({currentPage:1,totalPages:1});s.useEffect(()=>{(async n=>{i(!0);try{const e=await m(`${x.products}?on_sale=true&page=${n}&limit=10`),f=e.products.map(a=>({id:a.id,title:a.name,price:parseFloat(a.selling_price),discount:Math.round((parseFloat(a.mrp)-parseFloat(a.selling_price))/parseFloat(a.mrp)*100),rating:Math.round(parseFloat(a.rating)),thumbnail:a.image_1,description:a.description.slice(0,60)+"..."}));d(f),e.data&&e.data.pagination&&c(e.data.pagination)}catch(e){console.error("Error fetching offers:",e)}finally{i(!1)}})(o.currentPage)},[o.currentPage]);const p=r=>{c(n=>({...n,currentPage:r}))};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto py-10 px-4",children:[t.jsx("h1",{className:"text-4xl font-extrabold text-pink-700 text-center mb-10",children:"Today's Hot Offers"}),g?t.jsx("div",{className:"text-center text-gray-500 text-lg",children:"Loading offers..."}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:l.map(r=>t.jsx(u,{product:r},r.id))}),t.jsx(h,{pagination:o,handlePageChange:p})]})]})})};export{N as default};
