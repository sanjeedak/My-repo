import{r as o,j as e,L as m,a as u,e as p,A as j}from"./index-JHV42PaI.js";import{P as f}from"./Pagination-DgnuGieu.js";const N=(a,n)=>{if(a&&a.startsWith("http"))return a;if(a)return`${j}/${a}`;const l=n.split(" ")[0];return`https://placehold.co/80x80/EBF4FF/7F9CF5?text=${encodeURIComponent(l)}`},b=()=>e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm animate-pulse",children:[e.jsx("div",{className:"h-8 w-3/4 bg-gray-200 rounded mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 w-1/2 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 w-2/3 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 w-1/3 bg-gray-200 rounded"})]})]}),w=()=>{const[a,n]=o.useState([]),[l,c]=o.useState(!0),[d,x]=o.useState(""),[i,g]=o.useState({currentPage:1,totalPages:1});o.useEffect(()=>{(async()=>{var t;c(!0);try{const r=await u(`${p.categories}?page=${i.currentPage}&limit=10`);if(r.success&&Array.isArray((t=r.data)==null?void 0:t.categories))n(r.data.categories),g(r.data.pagination);else throw new Error("Could not retrieve category data.")}catch(r){x("Failed to fetch categories. Please try again later."),console.error(r)}finally{c(!1)}})()},[i.currentPage]);const h=s=>{g(t=>({...t,currentPage:s}))};return e.jsx("div",{className:"bg-slate-50 py-12 min-h-screen",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h1",{className:"text-4xl font-extrabold text-slate-800",children:"All Categories"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Find what you're looking for in our wide range of categories."})]}),d&&e.jsx("div",{className:"text-center text-red-500 font-semibold bg-red-50 p-4 rounded-md",children:d}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:l?Array.from({length:8}).map((s,t)=>e.jsx(b,{},t)):a.length>0?a.map(s=>e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm hover:shadow-lg transition-shadow",children:[e.jsxs(m,{to:`/category/${s.slug}`,className:"flex items-center gap-4 mb-4",children:[e.jsx("img",{src:N(s.image,s.name),alt:s.name,className:"w-12 h-12 rounded-full object-cover border"}),e.jsx("h2",{className:"text-lg font-bold text-gray-800 hover:text-blue-600",children:s.name})]}),s.subcategories&&s.subcategories.length>0&&e.jsx("ul",{className:"space-y-2 border-t pt-4",children:s.subcategories.map(t=>e.jsx("li",{children:e.jsx(m,{to:`/category/${t.slug}`,className:"text-sm text-gray-600 hover:text-blue-600 hover:underline",children:t.name})},t.id))})]},s.id)):e.jsxs("div",{className:"col-span-full text-center py-16",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"No Categories Found"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Please check back later."})]})}),e.jsx(f,{pagination:i,handlePageChange:h})]})})};export{w as default};
