import{j as e,L as m,A as h,S as u,r,a as j,e as p}from"./index-JHV42PaI.js";import{P as v}from"./Pagination-DgnuGieu.js";const f=({seller:s})=>{const o=`/store/${s.id}`;return e.jsx(m,{to:o,className:"group relative block overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm transition-all duration-300 hover:shadow-lg hover:-translate-y-1 active:scale-95 active:shadow-inner",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:s.logo?`${h}/${s.logo}`:"https://placehold.co/64x64/EBF4FF/7F9CF5?text=Store",alt:`${s.name} Logo`,className:"h-16 w-16 flex-shrink-0 rounded-full border object-contain",onError:d=>{d.target.src="https://placehold.co/64x64/EBF4FF/7F9CF5?text=Store"}}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 group-hover:text-blue-600",children:s.name}),e.jsxs("div",{className:"mt-1 flex items-center",children:[e.jsx(u,{}),e.jsxs("span",{className:"ml-1.5 text-sm text-gray-600",children:[parseFloat(s.rating||0).toFixed(1)," Rating"]})]})]})]}),e.jsxs("div",{className:"mt-4 flex justify-between rounded-lg bg-gray-50 p-3 text-center text-sm text-gray-500",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-800",children:s.total_products||0}),e.jsx("div",{children:"Products"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-800",children:s.total_reviews||0}),e.jsx("div",{children:"Reviews"})]})]})]})})},b=()=>e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6",children:[e.jsxs("div",{className:"flex animate-pulse items-center gap-4",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-gray-200"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-5 w-3/4 rounded bg-gray-200"}),e.jsx("div",{className:"h-4 w-1/2 rounded bg-gray-200"})]})]}),e.jsx("div",{className:"mt-4 flex h-16 justify-between rounded-lg bg-gray-200 p-3"})]}),w=()=>{const[s,o]=r.useState([]),[d,l]=r.useState(!0),[i,x]=r.useState(""),[n,c]=r.useState({currentPage:1,totalPages:1});r.useEffect(()=>{(async()=>{l(!0);try{const t=await j(`${p.stores}?page=${n.currentPage}&limit=10`);if(t.success&&Array.isArray(t.data.stores))o(t.data.stores),c(t.data.pagination);else throw new Error("Could not retrieve store data.")}catch(t){x("Failed to fetch stores. Please try again later."),console.error(t)}finally{l(!1)}})()},[n.currentPage]);const g=a=>{c(t=>({...t,currentPage:a}))};return e.jsx("div",{className:"bg-slate-50 py-12 min-h-screen",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h1",{className:"text-4xl font-extrabold text-slate-800",children:"Our Trusted Stores"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Explore products from our curated list of top-rated stores."})]}),i&&e.jsx("div",{className:"text-center text-red-500 font-semibold bg-red-50 p-4 rounded-md",children:i}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d?Array.from({length:6}).map((a,t)=>e.jsx(b,{},t)):s.map(a=>e.jsx(f,{seller:a},a.id))}),e.jsx(v,{pagination:n,handlePageChange:g})]})})};export{w as default};
