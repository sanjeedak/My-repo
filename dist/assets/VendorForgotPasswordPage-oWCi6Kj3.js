import{u as p,b as j,r as l,j as e,L as v,a as w,e as y}from"./index-JHV42PaI.js";import{A as N}from"./AuthFormLayout-nAh7G4md.js";import{s as k,v as _}from"./sanatize-DUDiTChI.js";import{I as C}from"./InfoCards-DKFlAvRp.js";const L=({id:o,label:s,type:r,value:i,onChange:d,error:t,autoComplete:n})=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:o,className:"block text-sm font-semibold text-gray-700 mb-1",children:s}),e.jsx("input",{id:o,type:r,value:i,onChange:d,autoComplete:n,className:`w-full px-4 py-3 border ${t?"border-red-500":"border-gray-300"} rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-shadow sm:text-sm`}),t&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:t})]}),I=()=>{const o=p(),{t:s}=j(),[r,i]=l.useState(""),[d,t]=l.useState(""),[n,c]=l.useState(!1),[m,u]=l.useState(""),x=a=>{i(k(a.target.value)),t(""),u("")},g=()=>{r&&!window.confirm("Are you sure you want to close? Unsaved changes will be lost.")||o(-1)},h=()=>{const a=_(r,!0);return a?(t(a),!1):!0},f=async a=>{if(a.preventDefault(),!!h()){c(!0);try{await w(y.vendorForgotPassword,{method:"POST",body:{email:r}}),u("A password reset link has been sent to your email.")}catch(b){t(b.message||"Failed to send reset link. Please try again.")}finally{c(!1)}}};return e.jsxs("div",{className:"bg-slate-50",children:[e.jsxs(N,{children:[e.jsx("button",{onClick:g,className:"absolute top-4 right-4 text-gray-600 hover:text-gray-900 transition-colors","aria-label":"Close form",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("h2",{className:"text-3xl font-extrabold text-gray-900",children:[s("vendor_login")," ",s("forgot_password")]}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:s("vendor_forgot_password_prompt")})]}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsx(L,{id:"email",label:s("your_email"),type:"email",autoComplete:"email",value:r,onChange:x,error:d}),m&&e.jsx("p",{className:"text-green-600 text-xs text-center",children:m}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:n,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400 transition-colors",children:s(n?"sending":"send_reset_link")})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[s("remember_password")," ",e.jsx(v,{to:"/vendor/signin",className:"font-semibold text-blue-600 hover:underline",children:s("sign_in")})]})})]}),e.jsx(C,{})]})};export{I as default};
