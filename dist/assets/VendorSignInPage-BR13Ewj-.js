import{u as f,f as p,b as j,r as m,j as e,L as b,a as v,e as w}from"./index-JHV42PaI.js";import{A as y}from"./AuthFormLayout-nAh7G4md.js";import{I as N}from"./InfoCards-DKFlAvRp.js";const g=({id:o,label:i,type:s,value:r,onChange:d,error:t,autoComplete:l})=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:o,className:"block text-sm font-semibold text-gray-700 mb-1",children:i}),e.jsx("input",{id:o,type:s,name:o,value:r,onChange:d,autoComplete:l,className:`w-full px-4 py-3 border ${t?"border-red-500":"border-gray-300"} rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-shadow sm:text-sm`}),t&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:t})]}),C=()=>{const o=f(),{login:i}=p(),{t:s}=j(),[r,d]=m.useState({email:"",password:""}),[t,l]=m.useState({}),[c,u]=m.useState(!1),x=n=>{d({...r,[n.target.name]:n.target.value}),(t[n.target.name]||t.submit)&&l({...t,[n.target.name]:null,submit:null})},h=async n=>{n.preventDefault(),u(!0),l({});try{const a=await v(w.vendorLogin,{method:"POST",body:r});if(a.success&&a.data.token)i(a.data.vendor,a.data.token),o("/vendor/dashboard");else throw new Error(a.message||"Login failed.")}catch(a){l({submit:a.message||"Invalid credentials. Please try again."})}finally{u(!1)}};return e.jsxs(e.Fragment,{children:[e.jsxs(y,{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:s("Vendor login")}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:s("Vendor signin welcome")})]}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsx(g,{id:"email",label:s("Your email"),type:"email",autoComplete:"email",value:r.email,onChange:x,error:t.email}),e.jsx(g,{id:"password",label:s("Password"),type:"password",autoComplete:"current-password",value:r.password,onChange:x,error:t.password}),t.submit&&e.jsx("p",{className:"text-xs text-red-600 text-center",children:t.submit}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:s("Remember me")})]}),e.jsx("div",{className:"text-sm",children:e.jsxs(b,{to:"/vendor/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:[s("forgot password"),"?"]})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400 transition-colors",children:s(c?"Sending":"Signin")})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[s("Dont have vendor account")," ",e.jsx(b,{to:"/vendor/signup",className:"font-semibold text-blue-600 hover:underline",children:s("Signup now")})]})})]}),e.jsx(N,{})]})};export{C as default};
